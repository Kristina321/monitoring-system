# Сервис мониторинга HTTP-сервисов

Система для периодической проверки доступности веб-сервисов с определением их стабильности.

## Запуск системы

- Установите зависимости:

*в терминале:*

`npm install node-fetch`


- Настройте параметры в коде:
в *SERVICES* - добавьте URL ваших сервисов;
При необходимости измените временные параметры в *constants.js*;

- Запустите мониторинг:

*в терминале:*

`node index.js`


## Структура проекта
```
monitoring-system/
├── services/
│   ├── httpClient.js
│   ├── logger.js
│   ├── monitor.js
│   └── stability.js
├── constants.js
└── index.js
```

## Принцип работы системы

### Проверка сервисов

Выполнение запросов:
- Отправка POST-запросов к указанным сервисам;
- Автоматическая отмена запросов, превышающих *ABORT_CONTROLLER_TIMEOUT* (5000 мс);
- Точный замер времени выполнения каждого запроса;

Анализ ответов:
- Проверка HTTP-статус кодов;
- Фиксация времени ответа (responseTime);

### Критерии нестабильности
Сервис помечается как нестабильный при:

- Ошибочные статусы:
Любые коды ответа ≥400 (4xx и 5xx);
- Медленные ответы:
Время выполнения запроса > *UNSTABLE_RESPONSE_TIME_LIMIT* (2000 мс);
- Повторяющиеся сбои:
3+ одинаковых кода ошибки подряд для одного сервиса;

### Система логирования

Все результаты проверок сохраняются в *LOG_FILE* (monitor_service.log);
Формат: JSON-объекты с полями времени, URL, статуса и времени ответа;

Структура
```
{
  "time": "ISO-8601 timestamp",    // Время проверки в формате ISO-8601 (UTC)
  "url": "string",                 // Полный URL проверяемого сервиса
  "statusCode": number,            // HTTP-статус код ответа
  "responseTime": number           // Время выполнения запроса в миллисекундах
}
```

### Периодичность проверок
Первая проверка - сразу при запуске;
Последующие - каждые *MONITORING_INTERVAL* (5 минут);
